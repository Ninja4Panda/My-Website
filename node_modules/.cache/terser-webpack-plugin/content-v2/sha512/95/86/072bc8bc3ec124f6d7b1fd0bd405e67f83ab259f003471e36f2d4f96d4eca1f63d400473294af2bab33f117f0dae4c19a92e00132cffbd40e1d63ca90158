{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=4)}([function(e,t,n){\"use strict\";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||\"\",o=e[3];if(!o)return n;if(t&&\"function\"==typeof btoa){var r=(i=o,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(c),\"/*# \".concat(l,\" */\")),a=o.sources.map((function(e){return\"/*# sourceURL=\".concat(o.sourceRoot||\"\").concat(e,\" */\")}));return[n].concat(a).concat([r]).join(\"\\n\")}var i,c,l;return[n].join(\"\\n\")}(t,e);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},t.i=function(e,n,o){\"string\"==typeof e&&(e=[[null,e,\"\"]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);o&&r[l[0]]||(n&&(l[2]?l[2]=\"\".concat(n,\" and \").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){var o=n(2),r=n(3);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var a={insert:\"head\",singleton:!1};o(r,a);e.exports=r.locals||{}},function(e,t,n){\"use strict\";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function c(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var a=e[r],l=t.base?a[0]+t.base:a[0],d=n[l]||0,s=\"\".concat(l,\" \").concat(d);n[l]=d+1;var m=c(s),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==m?(i[m].references++,i[m].updater(u)):i.push({identifier:s,updater:h(u,t),references:1}),o.push(s)}return o}function d(e){var t=document.createElement(\"style\"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),\"function\"==typeof e.insert)e.insert(t);else{var i=a(e.insert||\"head\");if(!i)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");i.appendChild(t)}return t}var s,m=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join(\"\\n\")});function u(e,t,n,o){var r=n?\"\":o.media?\"@media \".concat(o.media,\" {\").concat(o.css,\"}\"):o.css;if(e.styleSheet)e.styleSheet.cssText=m(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function p(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute(\"media\",r):e.removeAttribute(\"media\"),a&&btoa&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),\" */\")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,g=0;function h(e,t){var n,o,r;if(t.singleton){var a=g++;n=f||(f=d(t)),o=u.bind(null,n,a,!1),r=u.bind(null,n,a,!0)}else n=d(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=c(n[o]);i[r].references--}for(var a=l(e,t),d=0;d<n.length;d++){var s=c(n[d]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}n=a}}}},function(e,t,n){\"use strict\";n.r(t);var o=n(0),r=n.n(o)()(!1);r.push([e.i,\".navbar {\\r\\n    background-color: #333;\\r\\n}\\r\\n\\r\\n.navbar a {\\r\\n    color: white;\\r\\n    padding: 14px 20px;\\r\\n    text-decoration: none;\\r\\n    text-align: center;\\r\\n}\\r\\n  \\r\\n.navbar a:hover {\\r\\n    background-color: #ddd;\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n/* ===== First page ===== */\\r\\n.header {\\r\\n    text-align: center;\\r\\n    color: white;\\r\\n    padding: 60px;\\r\\n}\\r\\n\\r\\n#signup-btn {\\r\\n    background-color:blueviolet;\\r\\n    border-color:blueviolet;\\r\\n}\\r\\n\\r\\n#signup-btn:hover {\\r\\n    background-color: rgb(83, 0, 161);\\r\\n}\\r\\n\\r\\n/* ===== Chat Box ===== */\\r\\n.chat-container {\\r\\n\\tmax-width: 1100px;\\r\\n\\tmargin: 30px auto;\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n.chat-header {\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.chat-messages {\\r\\n    min-width: 400px; \\r\\n    max-width: 400px;\\r\\n    min-height: 250px;\\r\\n\\tmax-height: 250px;\\r\\n\\toverflow-y: scroll;\\r\\n}\\r\\n.chat-form-container {\\r\\n\\tpadding: 5px 0px;\\r\\n\\tbackground-color: var(--dark-color-a);\\r\\n}\\r\\n\\r\\n.chat-form-container form {\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.chat-form-container input[type='text'] {\\r\\n\\tfont-size: 16px;\\r\\n\\tpadding: 5px;\\r\\n\\theight: 40px;\\r\\n\\tflex: 1;\\r\\n}\\r\\n\\r\\n/* ===== The Modal ===== */\\r\\n.backdrop {\\r\\n    position: fixed;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    background: rgba(0, 0, 0, 0.5);\\r\\n    z-index: 100;\\r\\n}\\r\\n\\r\\n.myModal {\\r\\n    position: fixed;\\r\\n    z-index: 200;\\r\\n    top: 40%;\\r\\n    left: 40%;\\r\\n    width: 20%;\\r\\n    background: white;\\r\\n    box-shadow: 1px 1px 6px rgba(0, 0, 0, 0.4);\\r\\n    padding: 1rem;\\r\\n}\\r\\n\\r\\n.modal_btn {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.modal_btn:hover {\\r\\n    background-color: #ccc;\\r\\n}\\r\\n\",\"\"]),t.default=r},function(e,t,n){\"use strict\";function o(e,t,n,o,a){const i=document.createElement(\"div\");i.className=\"backdrop\",i.id=\"backdrop\";const c=document.getElementById(\"main\");c.appendChild(i);const l=document.createElement(\"div\");l.id=\"myModal\",l.className=\"myModal\";const d=document.createElement(\"p\");d.innerText=t,d.className=\"font-weight-bold text-center\",l.appendChild(d),c.appendChild(l);const s=document.createElement(\"div\");s.style=\"display:grid; grid-template-columns:auto auto;\",l.appendChild(s);const m=document.createElement(\"div\");m.innerText=\"❌\",m.style.textAlign=\"center\",m.className=\"modal_btn\",m.addEventListener(\"click\",(function(){r(),a&&a(e)})),s.appendChild(m);const u=document.createElement(\"div\");u.innerText=\"✔\",u.style.textAlign=\"center\",u.className=\"modal_btn\",u.addEventListener(\"click\",(function(){r(),o(e,n)})),s.appendChild(u)}function r(){const e=document.getElementById(\"backdrop\");if(e){const t=document.getElementById(\"myModal\");e.remove(),t.remove()}}function a(e,t){!function(e,t){const n=document.getElementById(\"main\"),o=document.createElement(\"div\");o.style=\"text-align: center;\",n.appendChild(o);let a=e;const i=document.createElement(\"h2\");i.style.color=\"red\",i.innerText=a+\"s left to vote\",o.appendChild(i);const l=document.createElement(\"button\");l.innerText=\"Skip Vote\",l.id=\"skip_btn\",l.className=\"btn btn-secondary\",o.appendChild(l);const d=setInterval(()=>{a<=1&&(clearInterval(d),o.remove(),c(),r(),t.emit(\"Voted\",{uid:\"No one\"})),a-=1,i.innerText=a+\"s left to vote\"},1e3);t.once(\"End Timer\",()=>{o.remove(),r(),clearInterval(d)}),l.addEventListener(\"click\",e=>{e.preventDefault(),l.remove(),c(),r(),t.emit(\"Voted\",{uid:\"No one\"})})}(e,t);const n=document.getElementById(\"players\");if(n.hasChildNodes()){const e=n.childNodes;for(let n=0;n<e.length;n++){const r=e[n];\"alive\"===r.firstChild.id&&(r.addEventListener(\"mouseover\",e=>{e.preventDefault(),r.style.cursor=\"pointer\"}),r.addEventListener(\"click\",e=>{e.preventDefault();const n=\"Are you sure you want to vote for \"+r.childNodes[1].innerText+\" ?\";o(t,n,r.id,i)}))}}}function i(e,t){e.emit(\"Voted\",{uid:t});document.getElementById(\"skip_btn\").remove(),c()}function c(){const e=document.getElementById(\"players\");if(e.hasChildNodes()){const t=e.childNodes;for(let e=0;e<t.length;e++){const n=t[e];if(\"alive\"===n.firstChild.id){const e=n.cloneNode(!0);e.style.cursor=\"default\",n.replaceWith(e)}}}}function l(e,t,n){switch(e){case 0:!function(e,t){const n=document.createElement(\"div\");n.id=t,n.style=\"text-align: center;\";const o=document.createElement(\"img\");o.id=\"alive\",o.src=\"/Game/assests/unknown.png\",o.width=\"200\",o.height=\"300\",n.appendChild(o);const r=document.createElement(\"p\");r.innerText=e,r.style.color=\"white\",n.appendChild(r),document.getElementById(\"players\").appendChild(n)}(n.name,n.uid);break;case 1:!function(e,t){const n=document.getElementById(t).firstChild;switch(e){case-1:n.style.filter=\"grayscale(100%)\",n.id=\"dead\";break;case 0:n.src=\"/Game/assests/innocent.png\";break;case 1:n.src=\"/Game/assests/mafia.png\";break;case 2:n.src=\"/Game/assests/police.png\";break;case 3:n.src=\"/Game/assests/nurse.png\"}}(n.role,n.uid);break;case 2:!function(e){const t=document.getElementById(e),n=t.children[1].innerText;t.remove();const o=document.createElement(\"div\");o.innerText=n+\" disconnected\",o.className=\"alert alert-danger\",o.style=\"text-align: center\",o.id=\"error\";document.getElementById(\"main\").appendChild(o),setTimeout(()=>{o.remove()},5e3)}(n.uid);break;case 3:a(n.timer,t);break;case 4:!function(e,t,n){o(e,t,\"No one\",d,s);const a=document.getElementById(\"main\");let i=n;const c=document.createElement(\"h2\");c.id=\"timer\",c.style=\"color: red; text-align: center;\",c.innerText=i+\"s left to vote\",a.appendChild(c);const l=setInterval(()=>{i<=1&&(clearInterval(l),c.remove(),r(),e.emit(\"Save\",{save:!1})),i-=1,c.innerText=i+\"s left to vote\"},1e3);e.once(\"End Save Timer\",()=>{div.remove(),r(),clearInterval(l)})}(t,n.msg,n.timer);break;case 5:!function(e){const t=document.getElementById(\"main\"),n=document.createElement(\"div\");n.style=\"text-align: center;\",t.appendChild(n);let o=e;const r=document.createElement(\"h2\");r.id=\"timer\",r.style.color=\"red\",r.innerText=o+\"s left to chat\",n.appendChild(r);const a=setInterval(()=>{o<=1&&clearInterval(a),o-=1,r.innerText=o+\"s left to chat\"},1e3),i=document.createElement(\"button\");i.innerText=\"Return to main page\",i.id=\"ret_btn\",i.className=\"btn btn-secondary\",n.appendChild(i),i.addEventListener(\"click\",e=>{e.preventDefault(),location.reload()})}(n.timer)}}function d(e){e.emit(\"Save\",{save:!0});const t=document.getElementById(\"timer\");t&&t.remove()}function s(e){e.emit(\"Save\",{save:!1});const t=document.getElementById(\"timer\");t&&t.remove()}function m(e){const t=document.createElement(\"div\");t.style=\"display: grid; grid-template-columns:repeat(2,1fr);\";const n=document.createElement(\"p\");n.id=\"Role\",n.style=\"color: white; text-align: center;\",n.className=\"font-weight-bold\",n.innerText=\"Role:\";const o=document.createElement(\"p\");o.id=\"winCon\",o.style=\"color: white; text-align: center;\",o.className=\"font-weight-bold\",o.innerText=\"Winning Condition:\";const r=document.createElement(\"p\"),a=document.createElement(\"p\"),i=document.getElementById(\"contents\");t.appendChild(n),t.appendChild(r),t.appendChild(o),t.appendChild(a),i.insertBefore(t,i.childNodes[0]),e.once(\"Role Description\",({playerRole:e})=>{switch(e){case 0:r.innerText=\"Innocent\",r.style.color=\"GreenYellow\",a.innerText=\"Vote all mafia out\",a.style.color=\"GreenYellow\";break;case 1:r.innerText=\"Mafia\",r.style.color=\"pink\",a.innerText=\"Kill nurse & police or innocents\",a.style.color=\"pink\";break;case 2:r.innerText=\"Police\",r.style.color=\"GreenYellow\",a.innerText=\"Vote all mafia out\",a.style.color=\"GreenYellow\";break;case 3:r.innerText=\"Nurse\",r.style.color=\"GreenYellow\",a.innerText=\"Vote all mafia out\",a.style.color=\"GreenYellow\"}})}function u(){const e=document.createElement(\"textarea\");e.className=\"note\",e.style=\"resize: none; overflow-y: scroll; height:200px;\",e.placeholder=\"Write down your notes here\";const t=document.getElementById(\"contents\");t.insertBefore(e,t.childNodes[1])}function p(e){!function(e){const t=document.createElement(\"div\");t.className=\"chat-container\";const n=document.createElement(\"div\");n.className=\"chat-header\",n.innerText=\"Chat Room\",t.appendChild(n);const o=document.createElement(\"div\");o.className=\"chat-messages\",o.id=\"chat-messages\",t.appendChild(o);const r=document.createElement(\"div\");r.className=\"chat-form-container\";const a=document.createElement(\"form\");a.id=\"chat-form\";const i=document.createElement(\"input\");i.id=\"msg\",i.type=\"text\",i.placeholder=\"Enter Message\",i.autocomplete=\"off\",i.required=\"on\",e.on(\"Message On\",()=>{i.disabled=!1}),e.on(\"Message Off\",()=>{i.disabled=!0}),a.addEventListener(\"submit\",t=>{t.preventDefault(),e.emit(\"Client Message\",{msg:t.target.msg.value}),document.getElementById(\"msg\").value=\"\"}),a.appendChild(i),r.appendChild(a),t.appendChild(r);document.getElementById(\"contents\").appendChild(t)}(e),e.on(\"New Message\",({name:e,msg:t})=>{f(t=e+\": \"+t,\"white\")}),e.on(\"System Message\",({msg:e})=>{f(e,\"YellowGreen\")})}function f(e,t){const n=document.createElement(\"div\");n.className=\"message\",n.innerText=e,n.style.color=t;const o=document.getElementById(\"chat-messages\");o.appendChild(n),o.scrollTop+o.clientHeight>=o.scrollHeight-30&&n.scrollIntoView()}function g(e,t,n){const o=document.createElement(\"div\");if(o.id=\"contents\",o.style=\"display: grid; justify-content: center; flex-grow: 2\",lobby.appendChild(o),function(e,t){let n=t;const o=document.createElement(\"p\");o.id=\"timeout\",o.style=\"color: red;\",o.innerText=n+\" seconds left until you all get kick HURRY!!!!\",e.appendChild(o);const r=setInterval(()=>{if(n<=1){clearInterval(r);null!=document.getElementById(\"timeout\")&&location.reload()}n-=1,o.innerText=n+\" seconds left until you all get kick HURRY!!!!\"},1e3)}(o,n),p(e),t)e.once(\"Start Game Status\",({status:t,msg:n})=>{document.getElementById(\"timeout\").remove(),m(e),u()});else{const t=document.createElement(\"button\");t.id=\"start-game\",t.className=\"btn btn-primary\",t.innerText=\"Start Game\",o.appendChild(t),t.addEventListener(\"click\",t=>{t.preventDefault(),e.emit(\"Start Game\")}),e.on(\"Start Game Status\",({status:t,msg:n})=>{!function(e,t,n){if(t){document.getElementById(\"timeout\").remove();document.getElementById(\"start-game\").remove(),m(e),u()}else{const e=document.getElementById(\"start-game\");e.disabled=\"disabled\";const t=document.createElement(\"div\");t.innerText=n,t.className=\"alert alert-danger\",t.style=\"text-align: center\",t.id=\"error\";document.getElementById(\"main\").appendChild(t),setTimeout(()=>{t.remove(),e.disabled=\"\"},5e3)}}(e,t,n)})}}function h(e,t,n,o){document.getElementById(\"signup\").remove();const r=document.getElementById(\"roomid\");r.innerText=\"Room id: \"+t,r.style.display=\"\";const a=document.getElementById(\"main\"),i=document.createElement(\"div\");i.id=\"lobby\",i.style=\"display: flex; flex-direction: row; align-items: center; margin: 30px;\",a.appendChild(i),e.on(\"Forced Disconnect\",({msg:e})=>{!function(e){let t=5;document.getElementById(\"lobby\").remove();const n=document.getElementById(\"main\"),o=document.createElement(\"h2\");o.style=\"color: red; text-align: center; margin: 60px\",o.innerText=e+\", redirecting back to signup page in \"+t,n.appendChild(o);const r=setInterval(()=>{t<=1&&(clearInterval(r),location.reload()),t-=1,o.innerText=e+\", redirecting back to signup page in \"+t},1e3)}(e)}),function(e){const t=document.getElementById(\"lobby\"),n=document.createElement(\"div\");n.id=\"players\",n.style=\"display: grid; grid-template-columns:repeat(4,5fr); align-items: center; flex-grow: 8;\",t.appendChild(n),function(e,t){e.on(\"A New Player Joined\",n=>{t(0,e,n)}),e.on(\"Show Role\",n=>{t(1,e,n)}),e.on(\"A Client Disconnected\",n=>{t(2,e,n)}),e.on(\"Please Vote\",n=>{t(3,e,n)}),e.on(\"Revive Potion\",n=>{t(4,e,n)}),e.once(\"Game Over\",n=>{t(5,e,n)})}(e,l)}(e),g(e,n,o)}n.r(t);n(1);const v=document.getElementById(\"roomid-input\"),y=document.getElementById(\"signup-btn\");v.addEventListener(\"input\",(function(){y.innerText=0===v.value.length?\"Create Game\":\"Join Game\"}));const b=io();document.getElementById(\"signup-form\").addEventListener(\"submit\",e=>{e.preventDefault();const t=e.target[\"name-input\"].value,n=e.target[\"roomid-input\"].value;if(\"\"===t){const e=document.getElementById(\"error-msg\");return e.style=\"color: red; font-size: 20px;\",void(e.innerText=\"Please at least tell me your name 🐵\")}\"\"===n?b.emit(\"Create Game\",{name:t}):b.emit(\"Join Game\",{name:t,roomid:n})}),b.once(\"Create Game Status\",({status:e,roomid:t,clock:n})=>{e&&h(b,t,0,n)}),b.on(\"Join Game Status\",({status:e,msg:t,roomid:n,whoami:o,clock:r})=>{if(e)h(b,n,o,r);else{const e=document.getElementById(\"error-msg\");e.style=\"color: red; font-size: 20px;\",e.innerText=t+\" 🙈\"}})}]);","extractedComments":[]}