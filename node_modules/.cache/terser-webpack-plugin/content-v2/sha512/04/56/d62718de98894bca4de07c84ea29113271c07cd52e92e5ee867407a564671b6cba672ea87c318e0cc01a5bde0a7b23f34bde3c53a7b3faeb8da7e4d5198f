{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){},function(e,t,n){\"use strict\";function o(e,t,n,o,l){const a=document.createElement(\"div\");a.className=\"backdrop\",a.id=\"backdrop\";const i=document.getElementById(\"main\");i.appendChild(a);const r=document.createElement(\"div\");r.id=\"myModal\",r.className=\"myModal\";const d=document.createElement(\"p\");d.innerText=t,d.className=\"font-weight-bold text-center\",r.appendChild(d),i.appendChild(r);const s=document.createElement(\"div\");s.style=\"display:grid; grid-template-columns:auto auto;\",r.appendChild(s);const m=document.createElement(\"div\");m.innerText=\"âŒ\",m.style.textAlign=\"center\",m.className=\"modal_btn\",m.addEventListener(\"click\",(function(){c(),l&&l(e)})),s.appendChild(m);const u=document.createElement(\"div\");u.innerText=\"âœ”\",u.style.textAlign=\"center\",u.className=\"modal_btn\",u.addEventListener(\"click\",(function(){c(),o(e,n)})),s.appendChild(u)}function c(){const e=document.getElementById(\"backdrop\");if(e){const t=document.getElementById(\"myModal\");e.remove(),t.remove()}}n.r(t);var l=n.p+\"/Game/assests/innocent-55b833c40b5884234098853280c2ea60.png\",a=n.p+\"/Game/assests/mafia-31b5eba80fdabeb661d1686db979b0fb.png\",i=n.p+\"/Game/assests/police-05ab59c753cc99bfa6136daac4b895c7.png\",r=n.p+\"/Game/assests/nurse-4bff9a1fead2ebeae618e4bc7ca3c527.png\",d=n.p+\"/Game/assests/unknown-4ed3a56f11cf378df0014bf928dc1510.png\";function s(e,t){!function(e,t){const n=document.getElementById(\"main\"),o=document.createElement(\"div\");o.style=\"text-align: center;\",n.appendChild(o);let l=e;const a=document.createElement(\"h2\");a.style.color=\"red\",a.innerText=l+\"s left to vote\",o.appendChild(a);const i=document.createElement(\"button\");i.innerText=\"Skip Vote\",i.id=\"skip_btn\",i.className=\"btn btn-secondary\",o.appendChild(i);const r=setInterval(()=>{l<=1&&(clearInterval(r),o.remove(),u(),c(),t.emit(\"Voted\",{uid:\"No one\"})),l-=1,a.innerText=l+\"s left to vote\"},1e3);t.once(\"End Timer\",()=>{o.remove(),c(),clearInterval(r)}),i.addEventListener(\"click\",e=>{e.preventDefault(),i.remove(),u(),c(),t.emit(\"Voted\",{uid:\"No one\"})})}(e,t);const n=document.getElementById(\"players\");if(n.hasChildNodes()){const e=n.childNodes;for(let n=0;n<e.length;n++){const c=e[n];\"alive\"===c.firstChild.id&&(c.addEventListener(\"mouseover\",e=>{e.preventDefault(),c.style.cursor=\"pointer\"}),c.addEventListener(\"click\",e=>{e.preventDefault();const n=\"Are you sure you want to vote for \"+c.childNodes[1].innerText+\" ?\";o(t,n,c.id,m)}))}}}function m(e,t){e.emit(\"Voted\",{uid:t});document.getElementById(\"skip_btn\").remove(),u()}function u(){const e=document.getElementById(\"players\");if(e.hasChildNodes()){const t=e.childNodes;for(let e=0;e<t.length;e++){const n=t[e];if(\"alive\"===n.firstChild.id){const e=n.cloneNode(!0);e.style.cursor=\"default\",n.replaceWith(e)}}}}function p(e,t,n){switch(e){case 0:!function(e,t){const n=document.createElement(\"div\");n.id=t,n.style=\"text-align: center;\";const o=document.createElement(\"img\");o.id=\"alive\",o.src=d,o.width=\"200\",o.height=\"300\",n.appendChild(o);const c=document.createElement(\"p\");c.innerText=e,c.style.color=\"white\",n.appendChild(c),document.getElementById(\"players\").appendChild(n)}(n.name,n.uid);break;case 1:!function(e,t){const n=document.getElementById(t).firstChild;switch(e){case-1:n.style.filter=\"grayscale(100%)\",n.id=\"dead\";break;case 0:n.src=l;break;case 1:n.src=a;break;case 2:n.src=i;break;case 3:n.src=r}}(n.role,n.uid);break;case 2:!function(e){const t=document.getElementById(e),n=t.children[1].innerText;t.remove();const o=document.createElement(\"div\");o.innerText=n+\" disconnected\",o.className=\"alert alert-danger\",o.style=\"text-align: center\",o.id=\"error\";document.getElementById(\"main\").appendChild(o),setTimeout(()=>{o.remove()},5e3)}(n.uid);break;case 3:s(n.timer,t);break;case 4:!function(e,t,n){o(e,t,\"No one\",g,f);const l=document.getElementById(\"main\");let a=n;const i=document.createElement(\"h2\");i.id=\"timer\",i.style=\"color: red; text-align: center;\",i.innerText=a+\"s left to vote\",l.appendChild(i);const r=setInterval(()=>{a<=1&&(clearInterval(r),i.remove(),c(),e.emit(\"Save\",{save:!1})),a-=1,i.innerText=a+\"s left to vote\"},1e3);e.once(\"End Save Timer\",()=>{div.remove(),c(),clearInterval(r)})}(t,n.msg,n.timer);break;case 5:!function(e){const t=document.getElementById(\"main\"),n=document.createElement(\"div\");n.style=\"text-align: center;\",t.appendChild(n);let o=e;const c=document.createElement(\"h2\");c.id=\"timer\",c.style.color=\"red\",c.innerText=o+\"s left to chat\",n.appendChild(c);const l=setInterval(()=>{o<=1&&clearInterval(l),o-=1,c.innerText=o+\"s left to chat\"},1e3),a=document.createElement(\"button\");a.innerText=\"Return to main page\",a.id=\"ret_btn\",a.className=\"btn btn-secondary\",n.appendChild(a),a.addEventListener(\"click\",e=>{e.preventDefault(),location.reload()})}(n.timer)}}function g(e){e.emit(\"Save\",{save:!0});const t=document.getElementById(\"timer\");t&&t.remove()}function f(e){e.emit(\"Save\",{save:!1});const t=document.getElementById(\"timer\");t&&t.remove()}function y(e){const t=document.createElement(\"div\");t.style=\"display: grid; grid-template-columns:repeat(2,1fr);\";const n=document.createElement(\"p\");n.id=\"Role\",n.style=\"color: white; text-align: center;\",n.className=\"font-weight-bold\",n.innerText=\"Role:\";const o=document.createElement(\"p\");o.id=\"winCon\",o.style=\"color: white; text-align: center;\",o.className=\"font-weight-bold\",o.innerText=\"Winning Condition:\";const c=document.createElement(\"p\"),l=document.createElement(\"p\"),a=document.getElementById(\"contents\");t.appendChild(n),t.appendChild(c),t.appendChild(o),t.appendChild(l),a.insertBefore(t,a.childNodes[0]),e.once(\"Role Description\",({playerRole:e})=>{switch(e){case 0:c.innerText=\"Innocent\",c.style.color=\"GreenYellow\",l.innerText=\"Vote all mafia out\",l.style.color=\"GreenYellow\";break;case 1:c.innerText=\"Mafia\",c.style.color=\"pink\",l.innerText=\"Kill nurse & police or innocents\",l.style.color=\"pink\";break;case 2:c.innerText=\"Police\",c.style.color=\"GreenYellow\",l.innerText=\"Vote all mafia out\",l.style.color=\"GreenYellow\";break;case 3:c.innerText=\"Nurse\",c.style.color=\"GreenYellow\",l.innerText=\"Vote all mafia out\",l.style.color=\"GreenYellow\"}})}function v(){const e=document.createElement(\"textarea\");e.className=\"note\",e.style=\"resize: none; overflow-y: scroll; height:200px;\",e.placeholder=\"Write down your notes here\";const t=document.getElementById(\"contents\");t.insertBefore(e,t.childNodes[1])}function h(e){!function(e){const t=document.createElement(\"div\");t.className=\"chat-container\";const n=document.createElement(\"div\");n.className=\"chat-header\",n.innerText=\"Chat Room\",t.appendChild(n);const o=document.createElement(\"div\");o.className=\"chat-messages\",o.id=\"chat-messages\",t.appendChild(o);const c=document.createElement(\"div\");c.className=\"chat-form-container\";const l=document.createElement(\"form\");l.id=\"chat-form\";const a=document.createElement(\"input\");a.id=\"msg\",a.type=\"text\",a.placeholder=\"Enter Message\",a.autocomplete=\"off\",a.required=\"on\",e.on(\"Message On\",()=>{a.disabled=!1}),e.on(\"Message Off\",()=>{a.disabled=!0}),l.addEventListener(\"submit\",t=>{t.preventDefault(),e.emit(\"Client Message\",{msg:t.target.msg.value}),document.getElementById(\"msg\").value=\"\"}),l.appendChild(a),c.appendChild(l),t.appendChild(c);document.getElementById(\"contents\").appendChild(t)}(e),e.on(\"New Message\",({name:e,msg:t})=>{E(t=e+\": \"+t,\"white\")}),e.on(\"System Message\",({msg:e})=>{E(e,\"YellowGreen\")})}function E(e,t){const n=document.createElement(\"div\");n.className=\"message\",n.innerText=e,n.style.color=t;const o=document.getElementById(\"chat-messages\");o.appendChild(n),o.scrollTop+o.clientHeight>=o.scrollHeight-30&&n.scrollIntoView()}function b(e,t,n){const o=document.createElement(\"div\");if(o.id=\"contents\",o.style=\"display: grid; justify-content: center; flex-grow: 2\",lobby.appendChild(o),function(e,t){let n=t;const o=document.createElement(\"p\");o.id=\"timeout\",o.style=\"color: red;\",o.innerText=n+\" seconds left until you all get kick HURRY!!!!\",e.appendChild(o);const c=setInterval(()=>{if(n<=1){clearInterval(c);null!=document.getElementById(\"timeout\")&&location.reload()}n-=1,o.innerText=n+\" seconds left until you all get kick HURRY!!!!\"},1e3)}(o,n),h(e),t)e.once(\"Start Game Status\",({status:t,msg:n})=>{document.getElementById(\"timeout\").remove(),y(e),v()});else{const t=document.createElement(\"button\");t.id=\"start-game\",t.className=\"btn btn-primary\",t.innerText=\"Start Game\",o.appendChild(t),t.addEventListener(\"click\",t=>{t.preventDefault(),e.emit(\"Start Game\")}),e.on(\"Start Game Status\",({status:t,msg:n})=>{!function(e,t,n){if(t){document.getElementById(\"timeout\").remove();document.getElementById(\"start-game\").remove(),y(e),v()}else{const e=document.getElementById(\"start-game\");e.disabled=\"disabled\";const t=document.createElement(\"div\");t.innerText=n,t.className=\"alert alert-danger\",t.style=\"text-align: center\",t.id=\"error\";document.getElementById(\"main\").appendChild(t),setTimeout(()=>{t.remove(),e.disabled=\"\"},5e3)}}(e,t,n)})}}function x(e,t,n,o){document.getElementById(\"signup\").remove();const c=document.getElementById(\"roomid\");c.innerText=\"Room id: \"+t,c.style.display=\"\";const l=document.getElementById(\"main\"),a=document.createElement(\"div\");a.id=\"lobby\",a.style=\"display: flex; flex-direction: row; align-items: center; margin: 30px;\",l.appendChild(a),e.on(\"Forced Disconnect\",({msg:e})=>{!function(e){let t=5;document.getElementById(\"lobby\").remove();const n=document.getElementById(\"main\"),o=document.createElement(\"h2\");o.style=\"color: red; text-align: center; margin: 60px\",o.innerText=e+\", redirecting back to signup page in \"+t,n.appendChild(o);const c=setInterval(()=>{t<=1&&(clearInterval(c),location.reload()),t-=1,o.innerText=e+\", redirecting back to signup page in \"+t},1e3)}(e)}),function(e){const t=document.getElementById(\"lobby\"),n=document.createElement(\"div\");n.id=\"players\",n.style=\"display: grid; grid-template-columns:repeat(4,5fr); align-items: center; flex-grow: 8;\",t.appendChild(n),function(e,t){e.on(\"A New Player Joined\",n=>{t(0,e,n)}),e.on(\"Show Role\",n=>{t(1,e,n)}),e.on(\"A Client Disconnected\",n=>{t(2,e,n)}),e.on(\"Please Vote\",n=>{t(3,e,n)}),e.on(\"Revive Potion\",n=>{t(4,e,n)}),e.once(\"Game Over\",n=>{t(5,e,n)})}(e,p)}(e),b(e,n,o)}n(0);const I=document.getElementById(\"roomid-input\"),C=document.getElementById(\"signup-btn\");I.addEventListener(\"input\",(function(){C.innerText=0===I.value.length?\"Create Game\":\"Join Game\"}));const T=io();document.getElementById(\"signup-form\").addEventListener(\"submit\",e=>{e.preventDefault();const t=e.target[\"name-input\"].value,n=e.target[\"roomid-input\"].value;if(\"\"===t){const e=document.getElementById(\"error-msg\");return e.style=\"color: red; font-size: 20px;\",void(e.innerText=\"Please at least tell me your name ðŸµ\")}\"\"===n?T.emit(\"Create Game\",{name:t}):T.emit(\"Join Game\",{name:t,roomid:n})}),T.once(\"Create Game Status\",({status:e,roomid:t,clock:n})=>{e&&x(T,t,0,n)}),T.on(\"Join Game Status\",({status:e,msg:t,roomid:n,whoami:o,clock:c})=>{if(e)x(T,n,o,c);else{const e=document.getElementById(\"error-msg\");e.style=\"color: red; font-size: 20px;\",e.innerText=t+\" ðŸ™ˆ\"}})}]);","extractedComments":[]}